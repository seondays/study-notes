리눅스 파일 시스템에서는 파일을 가리키는 링크 개념을 통해 기존 파일을 참조할 수 있다.

리눅스의 모든 것은 파일이기 때문에, 하드 링크와 심볼릭 링크 역시 파일이다. ln 명령어를 통해 링크를 생성할 수 있으며, `ln -s` 로 옵션을 추가하여 심볼릭 링크를 생성할 수 있다.
## 하드 링크
원본 파일과 동일한 inode를 가리키는 링크이다. 따라서 원본과 하드 링크는 동일한 파일이며 이를 지칭하는 이름이 여러 개로 늘어나는 것이다.

> ### inode
> 리눅스 파일 시스템에서 파일의 정보를 저장하는 구조체

이를 `ls -l` 명령어로 확인 시 동일한 inode를 확인 가능하다. 아래와 같은 예시의 경우 링크 카운트 2로 두 개의 하드 링크가 생성되어 있음을 알 수 있다.
```
56828697 -rw-r--r--    2 seon  staff       13 11 20 21:49 test.txt
56828697 -rw-r--r--    2 seon  staff       13 11 20 21:49 test2.txt
```

하드 링크는 다음과 같은 특징을 가진다.
- 동일한 파일 시스템 내에서만 생성 가능하며, 다른 파일 시스템 내부의 파일에는 링크 생성 불가
- 디렉토리를 제외한 파일에만 링크 생성 가능

## 심볼릭 링크 (소프트 링크)
심볼릭 링크는 소프트 링크라고도 하며 절대 또는 상대 경로를 통해 원본 파일을 가리키는 링크를 의미한다. 참조와 같은 개념으로, 윈도우의 바로가기 기능과 비슷한 역할을 한다.

하드 링크와는 다르게 별개의 파일로 인식된다. 따라서 inode 번호가 원본 파일과 달라진다. 그리고 링크가 어디로 연결되어 있는지가 파일 정보에 함께 표기된다.
```
56828697 -rw-r--r--    2 seon  staff       13 11 20 21:49 test2.txt
56831106 lrwxr-xr-x    1 seon  staff        8 11 20 21:58 test3.txt -> test.txt
```

심볼릭 링크는 다음과 같은 특징을 가진다.
- 동일한 파일 시스템 뿐 아니라, 다른 파일 시스템 내부의 파일에도 링크 생성 가능
- 디렉토리와 파일 둘 다 링크 생성 가능
- 원본 파일이 삭제되면 심볼릭 링크는 오류가 발생하며 더 이상 사용될 수 없음 (dangling link)

## 어떤 상황에서 활용할까?
### 하드 링크
- 파일 백업과 무결성 유지 가능
	- 하드 링크는 동일한 파일을 가리키기 때문에, 실수로 하나의 하드 링크를 삭제하더라도 1개 이상의 하드 링크가 존재하는 경우 해당 파일은 디스크에서 사라지지 않는다.

### 심볼릭 링크
- 시스템 버전 관리에 활용
	-  심볼릭 링크를 사용하면, 마치 코드에서 인터페이스를 가지고 구현체를 바꾸는 것과 비슷하게 시스템이 참조하는 파일을 링크만 교체하여 쉽게 다른 파일로 전환할 수 있다. 
- 다른 파일 시스템과의 연결에 활용

## 디렉토리를 타겟으로 하드 링크 생성은 왜 불가능할까?
디렉토리가 처음 생성되면 기본적으로 링크 카운트가 2이다.
- `.` : 자기 자신
- `..` : 부모 디렉토리

디렉토리는 파일과는 다르게 계층 구조이기 때문에 명확한 부모-자식 관계가 중요하다. 그런데 디렉토리에 하드 링크를 생성하게 되면 이러한 계층 구조에 모호함이 발생할 수 있다.

예를 들면 `/home/user1` 이라는 디렉토리가 있고, 이 디렉토리에 대한 하드 링크를 `/tmp`에 생성하는 경우 발생할 수 있는 문제에 대해 생각해보자.
1. `/home/user1` 디렉토리의 inode가 123번임을 가정한다.
2. inode 123에는 다음 하드 링크가 존재한다.
	- `.` : `/home/user1`
	- `..` : `/home`
3. `/tmp` 아래에 `/home/user1`의 하드 링크 B를 생성한다. 새로운 링크 B는 `/tmp/B`라는 이름으로 inode 123을 가리키게 된다.
4. 이 경우 B의 실제 위치와, inode의 정보에 모호함이 발생한다.
	- B의 실제 위치는 `/tmp`인데, inode 정보는 여전히 자신을 `/home/user1`이라 보고 있다.
	- 따라서 `.` 의 의미가 깨짐 (B이어야 하는가? user1이어야 하는가?)
	-  `..` 역시 마찬가지.. 따라서 이 점을 어떻게 해결해야 할 지 알 수 없게 된다.

이러한 문제가 발생될 수 있어, 디렉토리에 따로 하드 링크 생성은 제한된다.