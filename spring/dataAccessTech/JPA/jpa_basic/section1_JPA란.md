# section1. JPA란
## ✔︎ JPA
Java Persistence API의 줄임말으로, 자바 진영의 ORM 표준 기술이다.
> #### ORM?
> - object-relational mapping
> - 객체 관계 매핑으로, 객체와 RDB 사이의 매핑을 도와주는 기술

- JPA는 자바 어플리케이션과 JDBC 사이에서 동작한다.
- 개발자가 JPA에게 작업을 요구하면 JPA는 내부적으로 쿼리를 생성하고, JDBC API를 사용하여 실행해주며 객체와 RDB 패러다임의 불일치를 해결해준다.
- 특정 데이터베이스에 종속되는 개념이 아님

JPA는 표준 명세 → 즉 인터페이스의 모음과 같아서 이것을 구현한 구현체들이 존재한다. (하이버네이트)

## ✔︎ JPA의 장점
- SQL 중심 개발이 아닌 객체 중심 개발이 가능
	- 생산성과 유지보수 효율성 증가
- 필연적으로 발생할 수밖에 없는 패러다임의 불일치 해결
	- 개발자는 객체를 다루는 것처럼 코드를 작성하고, 중간 다리 역할은 JPA가 모두 수행
- 성능 최적화 가능
	- 지연 로딩
	- 트랜잭션을 지원하는 쓰기 지연 (모아서 한번에 쓰기)
	- 1차 캐시

## ✔︎ JPA 구동 방식
![jpa](https://github.com/user-attachments/assets/79707da3-5394-4973-93bd-9a8b37f63ddb)
`EntityManagerFactory`에서 `EntityManager`를 생성하게 되며, `EntityManager`를 통해 실제로 DB와의 작업을 진행한다.

이를 사용 시 주의해야 할 점이 있는데..
- emf는 생성 비용이 비싸므로 하나를 생성하여 애플리케이션 전체에서 공유해 사용한다.
- em는 일반적으로 요청마다 생성해서 사용한다.
	- 스레드 safe 하지 않기 때문에, 스레드 사이에 공유해서는 안 됨
- JPA의 데이터 변경은 트랜잭션 안에서 이루어진다.